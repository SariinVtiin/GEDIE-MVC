2025-05-24 21:08:53 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-24 21:08:53 | INFO     | __main__:test_environment:21 | üöÄ Testando ambiente GEDIE...
2025-05-24 21:08:53 | INFO     | __main__:test_environment:26 | ‚úÖ python-telegram-bot: OK
2025-05-24 21:15:19 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-24 21:15:19 | INFO     | __main__:test_environment:21 | üöÄ Testando ambiente GEDIE...
2025-05-24 21:15:19 | INFO     | __main__:test_environment:26 | ‚úÖ python-telegram-bot: OK
2025-05-24 21:15:20 | INFO     | __main__:test_environment:33 | ‚úÖ SQLAlchemy: OK
2025-05-24 21:15:20 | INFO     | __main__:test_environment:40 | ‚úÖ PyMySQL: OK
2025-05-24 21:15:20 | INFO     | __main__:test_environment:48 | ‚úÖ Bot Token: Configurado
2025-05-24 21:15:20 | INFO     | __main__:test_environment:53 | ‚úÖ MySQL Host: localhost
2025-05-24 21:15:20 | INFO     | __main__:test_environment:55 | üéâ Ambiente configurado com sucesso!
2025-05-24 21:15:20 | INFO     | __main__:main:61 | ü§ñ GEDIE pronto para desenvolvimento!
2025-05-24 21:38:35 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-24 21:38:35 | INFO     | __main__:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-05-24 21:38:35 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-24 21:38:35 | INFO     | __main__:test_database:31 | üìã Criando tabelas...
2025-05-24 21:38:35 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-24 21:38:35 | INFO     | __main__:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-05-24 21:38:35 | INFO     | __main__:test_database:43 | üë§ Criando usu√°rio de teste...
2025-05-24 21:38:35 | INFO     | __main__:test_database:49 | ‚úÖ Usu√°rio criado: ID 1
2025-05-24 21:38:35 | INFO     | __main__:test_database:52 | üè∑Ô∏è Criando categorias padr√£o...
2025-05-24 21:38:35 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-05-24 21:38:35 | INFO     | __main__:test_database:58 | ‚úÖ 8 categorias criadas
2025-05-24 21:38:35 | INFO     | __main__:test_database:61 | üí∞ Criando gasto de teste...
2025-05-24 21:38:35 | INFO     | __main__:test_database:73 | ‚úÖ Gasto criado: R$ 25,50
2025-05-24 21:38:35 | INFO     | __main__:test_database:76 | üîç Testando consultas...
2025-05-24 21:38:35 | INFO     | __main__:test_database:82 | ‚úÖ Usu√°rio encontrado: Usu√°rio Teste
2025-05-24 21:38:35 | INFO     | __main__:test_database:83 | ‚úÖ Categorias do usu√°rio: 8
2025-05-24 21:38:35 | INFO     | __main__:test_database:84 | ‚úÖ Gastos de hoje: 1
2025-05-24 21:38:35 | INFO     | __main__:test_database:85 | ‚úÖ Total do m√™s: R$ 25.50
2025-05-24 21:38:35 | INFO     | __main__:test_database:88 | üßπ Limpando dados de teste...
2025-05-24 21:38:35 | INFO     | __main__:test_database:96 | üéâ Todos os testes passaram! Banco configurado corretamente!
2025-05-24 21:38:35 | INFO     | __main__:<module>:105 | ‚úÖ Banco de dados pronto para uso!
2025-05-24 21:39:29 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-24 21:39:29 | INFO     | __main__:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-05-24 21:39:29 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-24 21:39:29 | INFO     | __main__:test_database:31 | üìã Criando tabelas...
2025-05-24 21:39:29 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-24 21:39:29 | INFO     | __main__:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-05-24 21:39:29 | INFO     | __main__:test_database:43 | üë§ Criando usu√°rio de teste...
2025-05-24 21:39:29 | INFO     | __main__:test_database:49 | ‚úÖ Usu√°rio criado: ID 2
2025-05-24 21:39:29 | INFO     | __main__:test_database:52 | üè∑Ô∏è Criando categorias padr√£o...
2025-05-24 21:39:29 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 2
2025-05-24 21:39:29 | INFO     | __main__:test_database:58 | ‚úÖ 8 categorias criadas
2025-05-24 21:39:29 | INFO     | __main__:test_database:61 | üí∞ Criando gasto de teste...
2025-05-24 21:39:29 | INFO     | __main__:test_database:73 | ‚úÖ Gasto criado: R$ 25,50
2025-05-24 21:39:29 | INFO     | __main__:test_database:76 | üîç Testando consultas...
2025-05-24 21:39:29 | INFO     | __main__:test_database:82 | ‚úÖ Usu√°rio encontrado: Usu√°rio Teste
2025-05-24 21:39:29 | INFO     | __main__:test_database:83 | ‚úÖ Categorias do usu√°rio: 8
2025-05-24 21:39:29 | INFO     | __main__:test_database:84 | ‚úÖ Gastos de hoje: 1
2025-05-24 21:39:29 | INFO     | __main__:test_database:85 | ‚úÖ Total do m√™s: R$ 25.50
2025-05-24 21:39:29 | INFO     | __main__:test_database:88 | üßπ Limpando dados de teste...
2025-05-24 21:39:29 | INFO     | __main__:test_database:96 | üéâ Todos os testes passaram! Banco configurado corretamente!
2025-05-24 21:39:29 | INFO     | __main__:<module>:105 | ‚úÖ Banco de dados pronto para uso!
2025-05-24 21:44:56 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-24 21:44:56 | INFO     | __main__:test_environment:21 | üöÄ Testando ambiente GEDIE...
2025-05-24 21:44:57 | INFO     | __main__:test_environment:26 | ‚úÖ python-telegram-bot: OK
2025-05-24 21:44:57 | INFO     | __main__:test_environment:33 | ‚úÖ SQLAlchemy: OK
2025-05-24 21:44:57 | INFO     | __main__:test_environment:40 | ‚úÖ PyMySQL: OK
2025-05-24 21:44:57 | INFO     | __main__:test_environment:48 | ‚úÖ Bot Token: Configurado
2025-05-24 21:44:57 | INFO     | __main__:test_environment:53 | ‚úÖ MySQL Host: localhost
2025-05-24 21:44:57 | INFO     | __main__:test_environment:55 | üéâ Ambiente configurado com sucesso!
2025-05-24 21:44:57 | INFO     | __main__:main:61 | ü§ñ GEDIE pronto para desenvolvimento!
2025-05-24 22:18:49 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-24 22:18:49 | INFO     | __main__:main:26 | üöÄ Iniciando GEDIE Bot...
2025-05-24 22:18:49 | INFO     | __main__:main:35 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-24 22:18:49 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-24 22:18:49 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-24 22:18:50 | INFO     | __main__:main:57 | ‚úÖ Handlers registrados com sucesso!
2025-05-24 22:18:50 | INFO     | __main__:main:58 | ü§ñ GEDIE Bot est√° rodando...
2025-05-24 22:18:50 | INFO     | __main__:main:59 | üí° Pressione Ctrl+C para parar
2025-05-24 22:19:14 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:19:14 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Vitor (6212796124)
2025-05-24 22:19:14 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 3
2025-05-24 22:19:14 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-05-24 22:19:36 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-24 22:19:44 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:17 do usu√°rio 6212796124
2025-05-24 22:19:53 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90,59
2025-05-24 22:20:02 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-24 22:20:12 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:20:12 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:20:16 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-24 22:20:20 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:22 do usu√°rio 6212796124
2025-05-24 22:20:24 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90
2025-05-24 22:20:26 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:add_description do usu√°rio 6212796124
2025-05-24 22:20:34 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: Camisa S√£o Paulo
2025-05-24 22:20:46 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:20:46 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:21:42 | INFO     | controllers.bot_controller:callback_router:71 | Callback settings:menu do usu√°rio 6212796124
2025-05-24 22:21:42 | WARNING  | controllers.bot_controller:callback_router:87 | A√ß√£o desconhecida: settings
2025-05-24 22:21:46 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:21:46 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:21:49 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-24 22:21:51 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:today do usu√°rio 6212796124
2025-05-24 22:21:54 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-24 22:21:56 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:21:56 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:21:58 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-24 22:22:01 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:17 do usu√°rio 6212796124
2025-05-24 22:22:06 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 100,90
2025-05-24 22:22:09 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:add_description do usu√°rio 6212796124
2025-05-24 22:22:13 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: Teste
2025-05-24 22:24:24 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:24:24 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:24:28 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-24 22:24:35 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:17 do usu√°rio 6212796124
2025-05-24 22:24:42 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 25.50
2025-05-24 22:24:50 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-24 22:24:53 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:24:53 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:24:55 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-24 22:24:58 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:22 do usu√°rio 6212796124
2025-05-24 22:25:03 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 67.00
2025-05-24 22:25:05 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:add_description do usu√°rio 6212796124
2025-05-24 22:25:09 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: Teste
2025-05-24 22:25:12 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:25:12 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:25:17 | INFO     | controllers.bot_controller:callback_router:71 | Callback settings:menu do usu√°rio 6212796124
2025-05-24 22:25:17 | WARNING  | controllers.bot_controller:callback_router:87 | A√ß√£o desconhecida: settings
2025-05-24 22:25:20 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:25:20 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:25:22 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:menu do usu√°rio 6212796124
2025-05-24 22:25:24 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:list do usu√°rio 6212796124
2025-05-24 22:25:27 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:create do usu√°rio 6212796124
2025-05-24 22:25:31 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-24 22:25:33 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:menu do usu√°rio 6212796124
2025-05-24 22:25:34 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:create do usu√°rio 6212796124
2025-05-24 22:25:37 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:create do usu√°rio 6212796124
2025-05-24 22:47:53 | INFO     | __main__:main:72 | üëã GEDIE Bot finalizado
2025-05-24 22:48:33 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-24 22:48:33 | INFO     | __main__:main:26 | üöÄ Iniciando GEDIE Bot...
2025-05-24 22:48:33 | INFO     | __main__:main:35 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-24 22:48:33 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-24 22:48:33 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-24 22:48:34 | INFO     | __main__:main:57 | ‚úÖ Handlers registrados com sucesso!
2025-05-24 22:48:34 | INFO     | __main__:main:58 | ü§ñ GEDIE Bot est√° rodando...
2025-05-24 22:48:34 | INFO     | __main__:main:59 | üí° Pressione Ctrl+C para parar
2025-05-24 22:49:01 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-24 22:49:01 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-24 22:49:05 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-24 22:49:07 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:17 do usu√°rio 6212796124
2025-05-24 22:49:13 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90,60
2025-05-24 22:49:36 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-24 22:50:35 | INFO     | __main__:main:68 | üõë Bot interrompido pelo usu√°rio
2025-05-24 22:50:35 | INFO     | __main__:main:72 | üëã GEDIE Bot finalizado
2025-05-25 10:40:48 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 10:40:48 | INFO     | __main__:main:26 | üöÄ Iniciando GEDIE Bot...
2025-05-25 10:40:48 | INFO     | __main__:main:35 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 10:40:48 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 10:40:48 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 10:40:49 | INFO     | __main__:main:57 | ‚úÖ Handlers registrados com sucesso!
2025-05-25 10:40:49 | INFO     | __main__:main:58 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 10:40:49 | INFO     | __main__:main:59 | üí° Pressione Ctrl+C para parar
2025-05-25 10:41:29 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 10:41:29 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 3)
2025-05-25 10:41:32 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 10:41:34 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:17 do usu√°rio 6212796124
2025-05-25 10:41:34 | INFO     | controllers.category_controller:handle_callback:23 | Category callback: expense_select - User: 6212796124
2025-05-25 10:41:34 | INFO     | controllers.category_controller:_select_category_for_expense:40 | Selecionando categoria 17 para usu√°rio 6212796124
2025-05-25 10:41:34 | INFO     | controllers.category_controller:_select_category_for_expense:52 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-05-25 10:41:34 | INFO     | controllers.category_controller:_select_category_for_expense:71 | Estado atualizado - User: 6212796124, State: WAITING_AMOUNT, Data: category_id=17
2025-05-25 10:41:38 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90.99
2025-05-25 10:41:38 | INFO     | controllers.expense_controller:_process_amount_input:181 | Processando valor 90.99 para categoria 17
2025-05-25 10:41:40 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:add_description do usu√°rio 6212796124
2025-05-25 10:41:46 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: Trem
2025-05-25 10:42:16 | INFO     | __main__:main:72 | üëã GEDIE Bot finalizado
2025-05-25 10:42:40 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 10:42:40 | INFO     | __main__:main:26 | üöÄ Iniciando GEDIE Bot...
2025-05-25 10:42:40 | INFO     | __main__:main:35 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 10:42:40 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 10:42:40 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 10:42:41 | INFO     | __main__:main:57 | ‚úÖ Handlers registrados com sucesso!
2025-05-25 10:42:41 | INFO     | __main__:main:58 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 10:42:41 | INFO     | __main__:main:59 | üí° Pressione Ctrl+C para parar
2025-05-25 10:42:52 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 10:42:52 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Vitor (6212796124)
2025-05-25 10:42:52 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-05-25 10:42:52 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-05-25 10:42:55 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 10:42:58 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:5 do usu√°rio 6212796124
2025-05-25 10:42:58 | INFO     | controllers.category_controller:handle_callback:23 | Category callback: expense_select - User: 6212796124
2025-05-25 10:42:58 | INFO     | controllers.category_controller:_select_category_for_expense:40 | Selecionando categoria 5 para usu√°rio 6212796124
2025-05-25 10:42:58 | INFO     | controllers.category_controller:_select_category_for_expense:52 | Categoria encontrada: Lazer (üé¨)
2025-05-25 10:42:58 | INFO     | controllers.category_controller:_select_category_for_expense:71 | Estado atualizado - User: 6212796124, State: WAITING_AMOUNT, Data: category_id=5
2025-05-25 10:43:02 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90,78
2025-05-25 10:43:02 | INFO     | controllers.expense_controller:_process_amount_input:181 | Processando valor 90.78 para categoria 5
2025-05-25 10:43:05 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-25 10:43:05 | INFO     | controllers.expense_controller:_save_expense_from_callback:245 | Salvando gasto via callback - User: 6212796124, Category: None, Amount: None
2025-05-25 10:43:05 | ERROR    | controllers.expense_controller:_save_expense_from_callback:248 | Dados incompletos - Category: None, Amount: None
2025-05-25 10:44:30 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 10:44:30 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 10:44:33 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 10:44:38 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:4 do usu√°rio 6212796124
2025-05-25 10:44:38 | INFO     | controllers.category_controller:handle_callback:23 | Category callback: expense_select - User: 6212796124
2025-05-25 10:44:38 | INFO     | controllers.category_controller:_select_category_for_expense:40 | Selecionando categoria 4 para usu√°rio 6212796124
2025-05-25 10:44:38 | INFO     | controllers.category_controller:_select_category_for_expense:52 | Categoria encontrada: Sa√∫de (üíä)
2025-05-25 10:44:38 | INFO     | controllers.category_controller:_select_category_for_expense:71 | Estado atualizado - User: 6212796124, State: WAITING_AMOUNT, Data: category_id=4
2025-05-25 10:44:42 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 87
2025-05-25 10:44:42 | INFO     | controllers.expense_controller:_process_amount_input:181 | Processando valor 87.0 para categoria 4
2025-05-25 10:44:44 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-25 10:44:44 | INFO     | controllers.expense_controller:_save_expense_from_callback:245 | Salvando gasto via callback - User: 6212796124, Category: None, Amount: None
2025-05-25 10:44:44 | ERROR    | controllers.expense_controller:_save_expense_from_callback:248 | Dados incompletos - Category: None, Amount: None
2025-05-25 11:07:38 | INFO     | __main__:main:72 | üëã GEDIE Bot finalizado
2025-05-25 11:11:11 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 11:11:11 | INFO     | __main__:main:31 | üêõ MODO DEBUG ATIVADO
2025-05-25 11:11:11 | INFO     | __main__:main:36 | üöÄ Iniciando GEDIE Bot...
2025-05-25 11:11:11 | INFO     | __main__:main:45 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 11:11:11 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 11:11:11 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 11:11:11 | INFO     | __main__:main:57 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 11:11:11 | INFO     | __main__:main:58 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 11:11:12 | INFO     | __main__:main:69 | üìã Registrando 3 handlers...
2025-05-25 11:11:12 | INFO     | __main__:main:78 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 11:11:12 | INFO     | __main__:main:81 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 11:11:12 | INFO     | __main__:main:82 | üí° Pressione Ctrl+C para parar
2025-05-25 11:11:12 | INFO     | __main__:main:85 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 11:11:12 | INFO     | __main__:main:86 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 11:11:12 | INFO     | __main__:main:87 |      python debug.py monitor <telegram_id>
2025-05-25 11:13:29 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 11:13:29 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 11:13:31 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 11:13:31 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-05-25 11:13:31 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:13:31 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:13:31 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-05-25 11:13:31 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-05-25 11:13:31 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:13:31 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:13:34 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:8 do usu√°rio 6212796124
2025-05-25 11:13:34 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 8 para usu√°rio 6212796124
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Outros (üí≥)
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 8}
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 8}
2025-05-25 11:13:34 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 8 selecionada com sucesso para usu√°rio 6212796124
2025-05-25 11:13:39 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '90' - User: 6212796124
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8}
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_process_amount_input:186 | Processando valor '90' para usu√°rio 6212796124
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_process_amount_input:201 | Dados atuais antes de salvar valor: {'category_id': 8}
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_process_amount_input:213 | Dados ap√≥s salvar valor: {'category_id': 8, 'amount': 90.0}
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:13:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 90.0}
2025-05-25 11:13:42 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 6212796124
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 90.0}
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 6212796124
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 90.0}
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_save_expense_from_callback:297 | Salvando gasto via callback - User: 6212796124
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_save_expense_from_callback:298 |     Dados completos: {'category_id': 8, 'amount': 90.0}
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_save_expense_from_callback:299 |     Category: 8, Amount: 90.0
2025-05-25 11:13:42 | INFO     | controllers.expense_controller:_save_expense_from_callback:323 | Criando gasto: user_id=1, category_id=8, amount=90.0
2025-05-25 11:13:42 | ERROR    | controllers.expense_controller:_save_expense_from_callback:352 | Erro ao salvar gasto via callback: Parent instance <Expense at 0x251424882f0> is not bound to a Session; lazy load operation of attribute 'category' cannot proceed (Background on this error at: https://sqlalche.me/e/14/bhk3)
2025-05-25 11:13:51 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 11:13:51 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 11:13:54 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 11:13:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-05-25 11:13:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:13:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:13:54 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-05-25 11:13:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-05-25 11:13:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:13:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:13:56 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:5 do usu√°rio 6212796124
2025-05-25 11:13:56 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 5 para usu√°rio 6212796124
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Lazer (üé¨)
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 5}
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:13:56 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 5}
2025-05-25 11:13:57 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 5 selecionada com sucesso para usu√°rio 6212796124
2025-05-25 11:14:00 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 70
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '70' - User: 6212796124
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5}
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_process_amount_input:186 | Processando valor '70' para usu√°rio 6212796124
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_process_amount_input:201 | Dados atuais antes de salvar valor: {'category_id': 5}
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_process_amount_input:213 | Dados ap√≥s salvar valor: {'category_id': 5, 'amount': 70.0}
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:14:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 70.0}
2025-05-25 11:14:01 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:add_description do usu√°rio 6212796124
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 6212796124
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 70.0}
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 70.0}
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:14:01 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 70.0}
2025-05-25 11:14:05 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: Teste
2025-05-25 11:14:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'Teste' - User: 6212796124
2025-05-25 11:14:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:14:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 70.0}
2025-05-25 11:14:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:14:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:14:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 70.0, 'description': 'Teste'}
2025-05-25 11:14:05 | ERROR    | controllers.expense_controller:_save_expense_from_message:405 | Erro ao salvar gasto via mensagem: Parent instance <Expense at 0x25142387c50> is not bound to a Session; lazy load operation of attribute 'category' cannot proceed (Background on this error at: https://sqlalche.me/e/14/bhk3)
2025-05-25 11:14:35 | INFO     | __main__:main:115 | üëã GEDIE Bot finalizado
2025-05-25 11:14:54 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 11:14:54 | INFO     | __main__:monitor_user_real_time:76 | üîÑ MONITORAMENTO em tempo real do usu√°rio 6212796124
2025-05-25 11:15:13 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 11:15:13 | INFO     | __main__:main:31 | üêõ MODO DEBUG ATIVADO
2025-05-25 11:15:13 | INFO     | __main__:main:36 | üöÄ Iniciando GEDIE Bot...
2025-05-25 11:15:13 | INFO     | __main__:main:45 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 11:15:13 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 11:15:13 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 11:15:13 | INFO     | __main__:main:57 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 11:15:13 | INFO     | __main__:main:58 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 11:15:14 | INFO     | __main__:main:69 | üìã Registrando 3 handlers...
2025-05-25 11:15:14 | INFO     | __main__:main:78 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 11:15:14 | INFO     | __main__:main:81 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 11:15:14 | INFO     | __main__:main:82 | üí° Pressione Ctrl+C para parar
2025-05-25 11:15:14 | INFO     | __main__:main:85 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 11:15:14 | INFO     | __main__:main:86 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 11:15:14 | INFO     | __main__:main:87 |      python debug.py monitor <telegram_id>
2025-05-25 11:15:37 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 11:15:37 | INFO     | __main__:monitor_user_real_time:76 | üîÑ MONITORAMENTO em tempo real do usu√°rio 6212796124
2025-05-25 11:15:46 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 11:15:46 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 11:15:50 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 11:15:50 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-05-25 11:15:50 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:15:50 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:15:50 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-05-25 11:15:50 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-05-25 11:15:50 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:15:50 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:15:53 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:7 do usu√°rio 6212796124
2025-05-25 11:15:53 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 7 para usu√°rio 6212796124
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Educa√ß√£o (üìö)
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 7}
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 7}
2025-05-25 11:15:53 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 7 selecionada com sucesso para usu√°rio 6212796124
2025-05-25 11:15:57 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '90' - User: 6212796124
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7}
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_process_amount_input:186 | Processando valor '90' para usu√°rio 6212796124
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_process_amount_input:201 | Dados atuais antes de salvar valor: {'category_id': 7}
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_process_amount_input:213 | Dados ap√≥s salvar valor: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:15:57 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:16:00 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 6212796124
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 6212796124
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:297 | Salvando gasto via callback - User: 6212796124
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:298 |     Dados completos: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:299 |     Category: 7, Amount: 90.0
2025-05-25 11:16:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:323 | Criando gasto: user_id=1, category_id=7, amount=90.0
2025-05-25 11:16:00 | ERROR    | controllers.expense_controller:_save_expense_from_callback:352 | Erro ao salvar gasto via callback: Parent instance <Expense at 0x204838e38c0> is not bound to a Session; lazy load operation of attribute 'category' cannot proceed (Background on this error at: https://sqlalche.me/e/14/bhk3)
2025-05-25 11:17:19 | INFO     | __main__:main:115 | üëã GEDIE Bot finalizado
2025-05-25 11:29:50 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 11:29:50 | INFO     | __main__:main:31 | üêõ MODO DEBUG ATIVADO
2025-05-25 11:29:50 | INFO     | __main__:main:36 | üöÄ Iniciando GEDIE Bot...
2025-05-25 11:29:50 | INFO     | __main__:main:45 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 11:29:50 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 11:29:50 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 11:29:50 | INFO     | __main__:main:57 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 11:29:50 | INFO     | __main__:main:58 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 11:29:51 | INFO     | __main__:main:69 | üìã Registrando 3 handlers...
2025-05-25 11:29:51 | INFO     | __main__:main:78 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 11:29:51 | INFO     | __main__:main:81 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 11:29:51 | INFO     | __main__:main:82 | üí° Pressione Ctrl+C para parar
2025-05-25 11:29:51 | INFO     | __main__:main:85 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 11:29:51 | INFO     | __main__:main:86 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 11:29:51 | INFO     | __main__:main:87 |      python debug.py monitor <telegram_id>
2025-05-25 11:30:25 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 11:30:25 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 11:30:28 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 11:30:28 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-05-25 11:30:28 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:30:28 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:30:28 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-05-25 11:30:28 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-05-25 11:30:28 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:30:28 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:30:30 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:7 do usu√°rio 6212796124
2025-05-25 11:30:30 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 7 para usu√°rio 6212796124
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Educa√ß√£o (üìö)
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 7}
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 7}
2025-05-25 11:30:30 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 7 selecionada com sucesso para usu√°rio 6212796124
2025-05-25 11:30:35 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 90
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '90' - User: 6212796124
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7}
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '90' para usu√°rio 6212796124
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 7}
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:30:35 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:30:37 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:add_description do usu√°rio 6212796124
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 6212796124
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:30:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:30:42 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: Teste
2025-05-25 11:30:42 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'Teste' - User: 6212796124
2025-05-25 11:30:42 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:30:42 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0}
2025-05-25 11:30:42 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:30:42 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:30:42 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 90.0, 'description': 'Teste'}
2025-05-25 11:30:42 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 4, Valor: R$ 90.00
2025-05-25 11:30:47 | INFO     | controllers.bot_controller:callback_router:71 | Callback report:menu do usu√°rio 6212796124
2025-05-25 11:30:47 | WARNING  | controllers.bot_controller:callback_router:87 | A√ß√£o desconhecida: report
2025-05-25 11:30:52 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 11:30:52 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 11:30:54 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-25 11:30:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-05-25 11:30:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:30:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:30:57 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:today do usu√°rio 6212796124
2025-05-25 11:30:57 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 6212796124
2025-05-25 11:30:57 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:30:57 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:31:14 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 11:31:14 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 11:31:17 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 11:31:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-05-25 11:31:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:31:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:31:17 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-05-25 11:31:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-05-25 11:31:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:31:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:31:19 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:8 do usu√°rio 6212796124
2025-05-25 11:31:19 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 8 para usu√°rio 6212796124
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Outros (üí≥)
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 8}
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:31:19 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 8}
2025-05-25 11:31:20 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 8 selecionada com sucesso para usu√°rio 6212796124
2025-05-25 11:31:24 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 100
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '100' - User: 6212796124
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8}
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '100' para usu√°rio 6212796124
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 8}
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 8, 'amount': 100.0}
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:31:24 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 100.0}
2025-05-25 11:31:27 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:add_description do usu√°rio 6212796124
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 6212796124
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 100.0}
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 100.0}
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:31:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 100.0}
2025-05-25 11:31:32 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: Voado
2025-05-25 11:31:32 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'Voado' - User: 6212796124
2025-05-25 11:31:32 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:31:32 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 100.0}
2025-05-25 11:31:32 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 6212796124
2025-05-25 11:31:32 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-25 11:31:32 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 8, 'amount': 100.0, 'description': 'Voado'}
2025-05-25 11:31:33 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 5, Valor: R$ 100.00
2025-05-25 11:31:36 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-25 11:31:36 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-05-25 11:31:36 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:31:36 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:31:40 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:today do usu√°rio 6212796124
2025-05-25 11:31:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 6212796124
2025-05-25 11:31:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:31:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:31:46 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 11:31:48 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-25 11:31:48 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-05-25 11:31:48 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:31:48 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:31:50 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:week do usu√°rio 6212796124
2025-05-25 11:31:50 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 6212796124
2025-05-25 11:31:50 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:31:50 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:31:52 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 11:31:54 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:menu do usu√°rio 6212796124
2025-05-25 11:31:54 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: menu - User: 6212796124
2025-05-25 11:31:54 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK menu - User: 6212796124
2025-05-25 11:31:54 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.IDLE
2025-05-25 11:31:54 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:31:58 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:list do usu√°rio 6212796124
2025-05-25 11:31:58 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: list - User: 6212796124
2025-05-25 11:31:58 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK list - User: 6212796124
2025-05-25 11:31:58 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.IDLE
2025-05-25 11:31:58 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:32:05 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 11:32:07 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-25 11:32:07 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-05-25 11:32:07 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:32:07 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:32:10 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:month do usu√°rio 6212796124
2025-05-25 11:32:10 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 6212796124
2025-05-25 11:32:10 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:32:10 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:32:13 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 11:32:14 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:menu do usu√°rio 6212796124
2025-05-25 11:32:14 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: menu - User: 6212796124
2025-05-25 11:32:14 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK menu - User: 6212796124
2025-05-25 11:32:14 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.IDLE
2025-05-25 11:32:14 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 11:32:18 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 11:32:21 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-25 11:32:21 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-05-25 11:32:21 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:32:21 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:32:22 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:custom do usu√°rio 6212796124
2025-05-25 11:32:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 6212796124
2025-05-25 11:32:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 11:32:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 11:32:27 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 11:32:33 | INFO     | controllers.bot_controller:callback_router:71 | Callback settings:menu do usu√°rio 6212796124
2025-05-25 11:32:33 | WARNING  | controllers.bot_controller:callback_router:87 | A√ß√£o desconhecida: settings
2025-05-25 11:32:36 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 11:32:36 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 12:13:23 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 12:13:23 | INFO     | __main__:main:31 | üêõ MODO DEBUG ATIVADO
2025-05-25 12:13:23 | INFO     | __main__:main:36 | üöÄ Iniciando GEDIE Bot...
2025-05-25 12:13:23 | INFO     | __main__:main:45 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 12:13:23 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 12:13:23 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 12:13:23 | INFO     | __main__:main:57 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 12:13:23 | INFO     | __main__:main:58 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 12:13:24 | INFO     | __main__:main:69 | üìã Registrando 3 handlers...
2025-05-25 12:13:24 | INFO     | __main__:main:78 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 12:13:24 | INFO     | __main__:main:81 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 12:13:24 | INFO     | __main__:main:82 | üí° Pressione Ctrl+C para parar
2025-05-25 12:13:24 | INFO     | __main__:main:85 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 12:13:24 | INFO     | __main__:main:86 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 12:13:24 | INFO     | __main__:main:87 |      python debug.py monitor <telegram_id>
2025-05-25 12:13:36 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 12:13:36 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 12:13:39 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 12:13:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-05-25 12:13:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 12:13:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 12:13:39 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-05-25 12:13:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-05-25 12:13:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 12:13:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 12:13:42 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:5 do usu√°rio 6212796124
2025-05-25 12:13:42 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 5 para usu√°rio 6212796124
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Lazer (üé¨)
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 5}
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 5}
2025-05-25 12:13:42 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 5 selecionada com sucesso para usu√°rio 6212796124
2025-05-25 12:13:46 | INFO     | controllers.bot_controller:message_handler:100 | Mensagem de 6212796124: 100
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '100' - User: 6212796124
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5}
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '100' para usu√°rio 6212796124
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 5}
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 5, 'amount': 100.0}
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 12:13:46 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 100.0}
2025-05-25 12:13:49 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 6212796124
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 100.0}
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 6212796124
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 5, 'amount': 100.0}
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 6212796124
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 5, 'amount': 100.0}
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 5, Amount: 100.0
2025-05-25 12:13:49 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=1, category_id=5, amount=100.0
2025-05-25 12:13:50 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 6, Valor: R$ 100.00
2025-05-25 12:13:53 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-25 12:13:53 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-05-25 12:13:53 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 12:13:53 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 12:14:00 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:today do usu√°rio 6212796124
2025-05-25 12:14:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 6212796124
2025-05-25 12:14:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 12:14:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 12:14:03 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 12:14:06 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:menu do usu√°rio 6212796124
2025-05-25 12:14:06 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: menu - User: 6212796124
2025-05-25 12:14:06 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK menu - User: 6212796124
2025-05-25 12:14:06 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.IDLE
2025-05-25 12:14:06 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 12:14:08 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:list do usu√°rio 6212796124
2025-05-25 12:14:08 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: list - User: 6212796124
2025-05-25 12:14:08 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK list - User: 6212796124
2025-05-25 12:14:08 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.IDLE
2025-05-25 12:14:08 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 12:14:11 | INFO     | controllers.bot_controller:callback_router:71 | Callback main:menu do usu√°rio 6212796124
2025-05-25 12:14:14 | INFO     | controllers.bot_controller:callback_router:71 | Callback settings:menu do usu√°rio 6212796124
2025-05-25 12:14:14 | WARNING  | controllers.bot_controller:callback_router:87 | A√ß√£o desconhecida: settings
2025-05-25 12:14:19 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 12:14:19 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:08:48 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 13:08:48 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-25 13:08:48 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-25 13:08:48 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 13:08:49 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 13:08:49 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 13:08:49 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 13:08:49 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 13:08:49 | INFO     | __main__:main:72 | üìã Registrando 3 handlers...
2025-05-25 13:08:49 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 13:08:49 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 13:08:49 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-25 13:08:49 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 13:08:49 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 13:08:49 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-25 13:09:13 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 13:09:13 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:09:17 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:register do usu√°rio 6212796124
2025-05-25 13:09:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-05-25 13:09:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 13:09:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 13:09:17 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-05-25 13:09:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-05-25 13:09:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 13:09:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 13:09:19 | INFO     | controllers.bot_controller:callback_router:71 | Callback category:expense_select:7 do usu√°rio 6212796124
2025-05-25 13:09:19 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 7 para usu√°rio 6212796124
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Educa√ß√£o (üìö)
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 7}
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 7}
2025-05-25 13:09:19 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 7 selecionada com sucesso para usu√°rio 6212796124
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '10099' - User: 6212796124
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7}
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '10099' para usu√°rio 6212796124
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 7}
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 7, 'amount': 10099.0}
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 13:09:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 10099.0}
2025-05-25 13:09:25 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:confirm do usu√°rio 6212796124
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 6212796124
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 10099.0}
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 6212796124
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 7, 'amount': 10099.0}
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 6212796124
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 7, 'amount': 10099.0}
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 7, Amount: 10099.0
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=1, category_id=7, amount=10099.0
2025-05-25 13:09:25 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 7, Valor: R$ 10099.00
2025-05-25 13:09:28 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view_menu do usu√°rio 6212796124
2025-05-25 13:09:28 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-05-25 13:09:28 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 13:09:28 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 13:09:30 | INFO     | controllers.bot_controller:callback_router:71 | Callback expense:view:today do usu√°rio 6212796124
2025-05-25 13:09:30 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 6212796124
2025-05-25 13:09:30 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-25 13:09:30 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-25 13:20:51 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-05-25 13:23:38 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 13:23:38 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-25 13:23:38 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-25 13:23:38 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 13:23:38 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 13:23:38 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 13:23:38 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 13:23:38 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 13:23:39 | INFO     | __main__:main:72 | üìã Registrando 3 handlers...
2025-05-25 13:23:39 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 13:23:39 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 13:23:39 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-25 13:23:39 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 13:23:39 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 13:23:39 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-25 13:23:47 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 13:23:47 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:24:00 | INFO     | controllers.bot_controller:callback_router:71 | Callback photo:guide do usu√°rio 6212796124
2025-05-25 13:24:49 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 13:24:49 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:24:51 | INFO     | controllers.bot_controller:callback_router:71 | Callback photo:guide do usu√°rio 6212796124
2025-05-25 13:25:21 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 13:25:21 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:34:48 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-05-25 13:34:52 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 13:34:52 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-25 13:34:52 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-25 13:34:52 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 13:34:52 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 13:34:52 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 13:34:52 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 13:34:52 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 13:34:53 | INFO     | __main__:main:72 | üìã Registrando 3 handlers...
2025-05-25 13:34:53 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 13:34:53 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 13:34:53 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-25 13:34:53 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 13:34:53 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 13:34:53 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-25 13:34:59 | INFO     | controllers.bot_controller:start_command:31 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 13:34:59 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:35:01 | INFO     | controllers.bot_controller:callback_router:71 | Callback photo:guide do usu√°rio 6212796124
2025-05-25 13:37:18 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-05-25 13:37:23 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 13:37:23 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-25 13:37:23 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-25 13:37:23 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 13:37:23 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 13:37:23 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 13:37:23 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 13:37:23 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 13:37:24 | INFO     | __main__:main:72 | üìã Registrando 4 handlers...
2025-05-25 13:37:24 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 13:37:24 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 13:37:24 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-25 13:37:24 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 13:37:24 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 13:37:24 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-25 13:37:29 | INFO     | controllers.bot_controller:start_command:33 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 13:37:29 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:37:32 | INFO     | controllers.bot_controller:callback_router:73 | Callback photo:guide do usu√°rio 6212796124
2025-05-25 13:37:54 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 6212796124
2025-05-25 13:37:56 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 102267 bytes
2025-05-25 13:37:56 | INFO     | services.gemini_service:analyze_receipt:26 | Iniciando an√°lise de comprovante (102267 bytes)
2025-05-25 13:37:58 | ERROR    | services.gemini_service:analyze_receipt:79 | Erro na an√°lise: 404 Gemini 1.0 Pro Vision has been deprecated on July 12, 2024. Consider switching to different model, for example gemini-1.5-flash.
2025-05-25 13:39:11 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-05-25 13:41:35 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 13:41:35 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-05-25 13:41:36 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-05-25 13:41:36 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7213 bytes)
2025-05-25 13:41:36 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-05-25 13:41:38 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-05-25 13:41:38 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-05-25 13:41:55 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 13:41:55 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-25 13:41:55 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-25 13:41:55 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 13:41:55 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 13:41:55 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 13:41:55 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 13:41:55 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 13:41:56 | INFO     | __main__:main:72 | üìã Registrando 4 handlers...
2025-05-25 13:41:56 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 13:41:56 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 13:41:56 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-25 13:41:56 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 13:41:56 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 13:41:56 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-25 13:41:58 | INFO     | controllers.bot_controller:start_command:33 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-25 13:41:58 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-25 13:42:01 | INFO     | controllers.bot_controller:callback_router:73 | Callback photo:guide do usu√°rio 6212796124
2025-05-25 13:42:06 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 6212796124
2025-05-25 13:42:07 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 102267 bytes
2025-05-25 13:42:07 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (102267 bytes)
2025-05-25 13:42:07 | INFO     | services.gemini_service:analyze_receipt:38 | Imagem redimensionada para (768, 1024)
2025-05-25 13:42:07 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-05-25 13:42:10 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 10.05,
  "estabelecimento": "BELLAVIA SUPERMERCADOS",
  "categoria_sugerida": "alimentacao",
  "itens_principais": [],
  "confianca": 0.9,
  "observacoes": "Compra realizada...
2025-05-25 13:42:10 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=10.05, estabelecimento=BELLAVIA SUPERMERCADOS, confian√ßa=0.9
2025-05-25 13:42:47 | INFO     | controllers.bot_controller:callback_router:73 | Callback photo:cancel do usu√°rio 6212796124
2025-05-25 13:43:24 | INFO     | controllers.bot_controller:callback_router:73 | Callback photo:guide do usu√°rio 6212796124
2025-05-25 13:43:40 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 6212796124
2025-05-25 13:43:42 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 86309 bytes
2025-05-25 13:43:42 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (86309 bytes)
2025-05-25 13:43:42 | INFO     | services.gemini_service:analyze_receipt:38 | Imagem redimensionada para (768, 1024)
2025-05-25 13:43:42 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-05-25 13:43:44 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 49.99,
  "estabelecimento": "C&A MODAS S.A.",
  "categoria_sugerida": "outros",
  "itens_principais": ["CINTO PU FOSCO 40MM"],
  "confianca": 1.0,
  "observacoes": null
}
``...
2025-05-25 13:43:44 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=49.99, estabelecimento=C&A MODAS S.A., confian√ßa=1.0
2025-05-25 13:43:55 | INFO     | controllers.bot_controller:callback_router:73 | Callback photo:confirm do usu√°rio 6212796124
2025-05-25 13:43:55 | INFO     | controllers.photo_controller:_confirm_photo_expense:364 | ‚úÖ Gasto por foto salvo: ID 8
2025-05-25 15:58:10 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-05-25 16:32:23 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-25 16:32:23 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-25 16:32:23 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-25 16:32:23 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-25 16:32:23 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-25 16:32:23 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-25 16:32:23 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-25 16:32:23 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-25 16:32:24 | INFO     | __main__:main:72 | üìã Registrando 4 handlers...
2025-05-25 16:32:24 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-25 16:32:24 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-25 16:32:24 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-25 16:32:24 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-25 16:32:24 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-25 16:32:24 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-25 16:32:30 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-05-30 13:42:38 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-30 13:42:38 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-30 13:42:38 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-30 13:42:38 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-30 13:42:38 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-30 13:42:38 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-30 13:42:38 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-30 13:42:38 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-30 13:42:39 | INFO     | __main__:main:72 | üìã Registrando 4 handlers...
2025-05-30 13:42:39 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-30 13:42:39 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-30 13:42:39 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-30 13:42:39 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-30 13:42:39 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-30 13:42:39 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-30 13:42:55 | INFO     | src.controllers.bot_controller:start_command:33 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-30 13:42:55 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-30 14:06:14 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-30 14:06:14 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-30 14:06:14 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-30 14:06:14 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-30 14:06:14 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-30 14:06:14 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-30 14:06:14 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-30 14:06:14 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-30 14:06:15 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-05-30 14:06:15 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-30 14:06:15 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-30 14:06:15 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-30 14:06:15 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-30 14:06:15 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-30 14:06:15 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-05-30 14:06:25 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-30 14:06:25 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-30 14:06:30 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-05-30 14:06:30 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-05-30 14:06:33 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-05-30 14:06:35 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-05-30 14:06:35 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-05-30 14:06:39 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-05-30 14:06:42 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-05-30 14:06:42 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-05-30 14:06:56 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:web_help do usu√°rio 6212796124
2025-05-30 14:06:56 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: web_help - User: 6212796124
2025-05-30 14:07:01 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-05-30 14:07:03 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-05-30 14:07:03 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-05-30 14:07:11 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 6212796124
2025-05-30 14:07:11 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 6212796124
2025-05-30 14:07:15 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:generate_code do usu√°rio 6212796124
2025-05-30 14:07:15 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: generate_code - User: 6212796124
2025-05-30 14:07:15 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 1
2025-05-30 14:07:15 | INFO     | controllers.settings_controller:_generate_access_code:90 | ‚úÖ C√≥digo gerado para usu√°rio 6212796124: 081054
2025-05-30 14:08:40 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-05-30 14:08:43 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-05-30 14:08:43 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-05-30 14:08:48 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 6212796124
2025-05-30 14:08:48 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 6212796124
2025-05-30 14:08:52 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-05-30 14:08:52 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-05-30 14:08:55 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-05-30 14:08:55 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-05-30 14:09:33 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-05-30 14:09:33 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-05-30 14:09:34 | ERROR    | controllers.settings_controller:_show_user_id:190 | Erro ao mostrar ID: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-05-30 14:09:43 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-30 14:09:43 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-30 14:09:47 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-05-30 14:09:47 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-05-30 14:09:50 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-05-30 14:09:50 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-05-30 14:09:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-05-30 14:09:54 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-05-30 14:09:57 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-05-30 14:09:57 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-05-30 14:09:57 | ERROR    | controllers.settings_controller:_show_user_id:190 | Erro ao mostrar ID: Message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-05-30 14:09:59 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-05-30 14:09:59 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-05-30 14:10:01 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-05-30 14:10:01 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-05-30 14:10:03 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 6212796124
2025-05-30 14:10:03 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 6212796124
2025-05-30 15:03:01 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6184756271 (Jonathan) iniciou o bot
2025-05-30 15:03:01 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Jonathan (6184756271)
2025-05-30 15:03:01 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 2
2025-05-30 15:03:01 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-05-30 15:03:15 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 6184756271
2025-05-30 15:03:15 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6184756271
2025-05-30 15:03:15 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-30 15:03:15 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-30 15:03:17 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6184756271
2025-05-30 15:03:27 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 6184756271
2025-05-30 15:03:31 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6184756271
2025-05-30 15:03:31 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6184756271
2025-05-30 15:03:31 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-30 15:03:31 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-30 15:03:31 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6184756271
2025-05-30 15:03:31 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6184756271
2025-05-30 15:03:31 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-30 15:03:31 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-30 15:03:34 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:9 do usu√°rio 6184756271
2025-05-30 15:03:34 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6184756271
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6184756271
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 9 para usu√°rio 6184756271
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 9}
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6184756271
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 9}
2025-05-30 15:03:34 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 9 selecionada com sucesso para usu√°rio 6184756271
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '107.33' - User: 6184756271
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9}
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '107.33' para usu√°rio 6184756271
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 9}
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 9, 'amount': 107.33}
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6184756271
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-30 15:03:45 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 107.33}
2025-05-30 15:03:48 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 6184756271
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 6184756271
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 107.33}
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 6184756271
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 107.33}
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 6184756271
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-30 15:03:48 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 107.33}
2025-05-30 15:03:56 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'GP' - User: 6184756271
2025-05-30 15:03:56 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-30 15:03:56 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 107.33}
2025-05-30 15:03:56 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 6184756271
2025-05-30 15:03:56 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-30 15:03:56 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 107.33, 'description': 'GP'}
2025-05-30 15:03:56 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 9, Valor: R$ 107.33
2025-05-30 15:04:04 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 6184756271
2025-05-30 15:04:05 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6184756271
2025-05-30 15:04:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6184756271
2025-05-30 15:04:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-05-30 15:04:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-30 15:04:05 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6184756271
2025-05-30 15:04:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6184756271
2025-05-30 15:04:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-30 15:04:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-05-30 15:04:08 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:10 do usu√°rio 6184756271
2025-05-30 15:04:08 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6184756271
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6184756271
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 10 para usu√°rio 6184756271
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Transporte (üöó)
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 10}
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6184756271
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-30 15:04:08 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 10}
2025-05-30 15:04:09 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 10 selecionada com sucesso para usu√°rio 6184756271
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '383' - User: 6184756271
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 10}
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '383' para usu√°rio 6184756271
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 10}
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 10, 'amount': 383.0}
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6184756271
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-30 15:04:13 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 10, 'amount': 383.0}
2025-05-30 15:04:16 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 6184756271
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 6184756271
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 10, 'amount': 383.0}
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 6184756271
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 10, 'amount': 383.0}
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 6184756271
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-30 15:04:16 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 10, 'amount': 383.0}
2025-05-30 15:04:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'Vitor' - User: 6184756271
2025-05-30 15:04:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-30 15:04:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 10, 'amount': 383.0}
2025-05-30 15:04:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 6184756271
2025-05-30 15:04:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-05-30 15:04:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 10, 'amount': 383.0, 'description': 'Vitor'}
2025-05-30 15:04:22 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 10, Valor: R$ 383.00
2025-05-30 15:04:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 6184756271
2025-05-30 15:04:30 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6184756271
2025-05-30 15:04:34 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6184756271
2025-05-30 15:04:34 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6184756271
2025-05-30 15:04:36 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6184756271
2025-05-30 15:04:38 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6184756271
2025-05-30 15:04:38 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6184756271
2025-05-30 15:04:56 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 6184756271
2025-05-30 15:04:56 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 6184756271
2025-05-30 15:05:00 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:generate_code do usu√°rio 6184756271
2025-05-30 15:05:00 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: generate_code - User: 6184756271
2025-05-30 15:05:00 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 2
2025-05-30 15:05:00 | INFO     | controllers.settings_controller:_generate_access_code:90 | ‚úÖ C√≥digo gerado para usu√°rio 6184756271: 837645
2025-05-30 15:05:49 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6184756271
2025-05-30 15:05:51 | INFO     | __main__:main:99 | üõë Bot interrompido pelo usu√°rio
2025-05-30 15:05:51 | INFO     | __main__:main:110 | üìä Nenhum estado ativo
2025-05-30 15:05:51 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-05-30 15:50:48 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-05-30 15:50:48 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-05-30 15:50:48 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-05-30 15:50:48 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-05-30 15:50:48 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-05-30 15:50:48 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-05-30 15:50:48 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-05-30 15:50:48 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-05-30 15:50:49 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-05-30 15:50:49 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-05-30 15:50:49 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-05-30 15:50:49 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-05-30 15:50:49 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-05-30 15:50:49 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-05-30 15:50:49 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-03 09:31:02 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-03 09:31:02 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-03 09:31:02 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-03 09:31:02 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-03 09:31:02 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-03 09:31:02 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-03 09:31:02 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-06-03 09:31:02 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-03 09:31:04 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-03 09:31:04 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-03 09:31:04 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-03 09:31:04 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-03 09:31:04 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-03 09:31:04 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-03 09:31:04 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-03 09:31:28 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-06-03 09:31:28 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 1)
2025-06-03 09:32:15 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6212796124
2025-06-03 09:32:15 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-06-03 09:32:15 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-03 09:32:15 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-03 09:32:15 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-06-03 09:32:17 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-06-03 19:16:09 | ERROR    | src.controllers.bot_controller:error_handler:187 | Erro: httpx.ConnectError: [Errno 11001] getaddrinfo failed
2025-06-03 19:21:14 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-06-03 19:29:18 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-03 19:29:18 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-03 19:29:18 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-03 19:29:18 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-03 19:29:18 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-03 19:29:18 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-03 19:29:18 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-06-03 19:29:18 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-03 19:29:18 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-03 19:29:18 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-03 19:29:18 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-03 19:29:18 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-03 19:29:18 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-03 19:29:18 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-03 19:29:18 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-03 19:29:44 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-06-03 19:29:44 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Vitor (6212796124)
2025-06-03 19:29:44 | ERROR    | models.category_model:create_default_categories:63 | Erro ao criar categorias padr√£o: 'despesa' is not among the defined enum values. Enum name: tipocategoria. Possible values: DESPESA, RECEITA
2025-06-03 19:29:44 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 0 categorias padr√£o
2025-06-03 19:29:50 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6212796124
2025-06-03 19:29:50 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-06-03 19:29:50 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-03 19:29:50 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-03 19:29:50 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-06-03 19:29:50 | ERROR    | models.category_model:get_user_categories:80 | Erro ao buscar categorias do usu√°rio 2: 'despesa' is not among the defined enum values. Enum name: tipocategoria. Possible values: DESPESA, RECEITA
2025-06-03 19:30:34 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-06-03 19:30:39 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6212796124
2025-06-03 19:30:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-06-03 19:30:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-03 19:30:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-03 19:30:39 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-06-03 19:30:39 | ERROR    | models.category_model:get_user_categories:80 | Erro ao buscar categorias do usu√°rio 2: 'despesa' is not among the defined enum values. Enum name: tipocategoria. Possible values: DESPESA, RECEITA
2025-06-03 19:32:34 | INFO     | __main__:main:99 | üõë Bot interrompido pelo usu√°rio
2025-06-03 19:32:34 | INFO     | __main__:main:110 | üìä Nenhum estado ativo
2025-06-03 19:32:34 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-06-03 19:32:55 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-03 19:32:55 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-03 19:32:55 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-03 19:32:55 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-03 19:32:55 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-03 19:32:55 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-03 19:32:55 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-06-03 19:32:55 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-03 19:32:55 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-03 19:32:55 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-03 19:32:55 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-03 19:32:55 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-03 19:32:55 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-03 19:32:55 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-03 19:32:55 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-03 19:33:00 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-06-03 19:33:00 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Vitor (6212796124)
2025-06-03 19:33:00 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 2
2025-06-03 19:33:00 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-03 19:33:08 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6212796124
2025-06-03 19:33:08 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-06-03 19:33:08 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-03 19:33:08 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-03 19:33:08 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-06-03 19:33:08 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-06-03 19:33:08 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-03 19:33:08 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-03 19:33:14 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-06-03 19:33:21 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-06-03 19:33:21 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-06-03 19:33:24 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-06-03 19:33:26 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 6212796124
2025-06-03 19:33:26 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 6212796124
2025-06-03 19:33:28 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:generate_code do usu√°rio 6212796124
2025-06-03 19:33:28 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: generate_code - User: 6212796124
2025-06-03 19:33:28 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 2
2025-06-03 19:33:28 | INFO     | controllers.settings_controller:_generate_access_code:90 | ‚úÖ C√≥digo gerado para usu√°rio 6212796124: 377843
2025-06-04 21:12:55 | ERROR    | src.controllers.bot_controller:error_handler:187 | Erro: httpx.ConnectError: [Errno 11001] getaddrinfo failed
2025-06-04 21:12:57 | ERROR    | src.controllers.bot_controller:error_handler:187 | Erro: httpx.ConnectError: [Errno 11001] getaddrinfo failed
2025-06-04 21:12:59 | ERROR    | src.controllers.bot_controller:error_handler:187 | Erro: httpx.ConnectError: [Errno 11001] getaddrinfo failed
2025-06-08 09:18:26 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-08 09:18:26 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-08 09:18:26 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-08 09:18:26 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-08 09:18:27 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-08 09:18:27 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-08 09:18:27 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: localhost/gedie_db
2025-06-08 09:18:27 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-08 09:18:27 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-08 09:18:27 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-08 09:18:27 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-08 09:18:27 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-08 09:18:27 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-08 09:18:27 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-08 09:18:27 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-08 09:19:12 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-06-08 09:19:12 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Vitor (ID: 2)
2025-06-08 09:19:15 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6212796124
2025-06-08 09:19:15 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-06-08 09:19:15 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-08 09:19:15 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-08 09:19:15 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-06-08 09:19:15 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-06-08 09:19:15 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-08 09:19:15 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-08 09:19:17 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:14 do usu√°rio 6212796124
2025-06-08 09:19:17 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 14 para usu√°rio 6212796124
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Roupas (üëï)
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 14}
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 14}
2025-06-08 09:19:17 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 14 selecionada com sucesso para usu√°rio 6212796124
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '79,99' - User: 6212796124
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 14}
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '79,99' para usu√°rio 6212796124
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 14}
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 14, 'amount': 79.99}
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-08 09:19:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 14, 'amount': 79.99}
2025-06-08 09:19:26 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 6212796124
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 6212796124
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 14, 'amount': 79.99}
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 6212796124
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 14, 'amount': 79.99}
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 6212796124
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 14, 'amount': 79.99}
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 14, Amount: 79.99
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=2, category_id=14, amount=79.99
2025-06-08 09:19:26 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 4, Valor: R$ 79.99
2025-06-08 09:19:30 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 6212796124
2025-06-08 09:19:30 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 6212796124
2025-06-08 09:19:33 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 6212796124
2025-06-08 09:19:33 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 6212796124
2025-06-08 09:19:37 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:regenerate_code do usu√°rio 6212796124
2025-06-08 09:19:37 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: regenerate_code - User: 6212796124
2025-06-08 09:19:37 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 2
2025-06-08 09:19:37 | INFO     | controllers.settings_controller:_regenerate_access_code:158 | ‚úÖ C√≥digo regenerado para usu√°rio 6212796124: 023658
2025-06-08 09:19:39 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-06-10 09:19:12 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-10 09:19:12 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-10 09:19:12 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-10 09:19:12 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-10 09:19:13 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-10 09:19:14 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-10 09:19:14 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: maglev.proxy.rlwy.net/railway
2025-06-10 09:19:14 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-10 09:19:15 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-10 09:19:15 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-10 09:19:15 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-10 09:19:15 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-10 09:19:15 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-10 09:19:15 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-10 09:19:15 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-10 09:57:16 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 6212796124 (Vitor) iniciou o bot
2025-06-10 09:57:18 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Vitor (6212796124)
2025-06-10 09:57:24 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 2
2025-06-10 09:57:24 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-10 09:57:39 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 6212796124
2025-06-10 09:57:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 6212796124
2025-06-10 09:57:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-10 09:57:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-10 09:57:39 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 6212796124
2025-06-10 09:57:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 6212796124
2025-06-10 09:57:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-10 09:57:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-10 09:57:42 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:9 do usu√°rio 6212796124
2025-06-10 09:57:42 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 6212796124
2025-06-10 09:57:42 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 6212796124
2025-06-10 09:57:42 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-10 09:57:42 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-10 09:57:42 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 9 para usu√°rio 6212796124
2025-06-10 09:57:43 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-10 09:57:43 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-10 09:57:43 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 9}
2025-06-10 09:57:43 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 6212796124
2025-06-10 09:57:43 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-10 09:57:43 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 9}
2025-06-10 09:57:43 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 9 selecionada com sucesso para usu√°rio 6212796124
2025-06-10 09:57:50 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '50' - User: 6212796124
2025-06-10 09:57:50 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-10 09:57:50 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9}
2025-06-10 09:57:50 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '50' para usu√°rio 6212796124
2025-06-10 09:57:50 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 9}
2025-06-10 09:57:50 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 9, 'amount': 50.0}
2025-06-10 09:57:51 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 6212796124
2025-06-10 09:57:51 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-10 09:57:51 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 50.0}
2025-06-10 09:57:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 6212796124
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 6212796124
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 50.0}
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 6212796124
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 9, 'amount': 50.0}
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 6212796124
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 9, 'amount': 50.0}
2025-06-10 09:57:54 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 9, Amount: 50.0
2025-06-10 09:57:55 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=2, category_id=9, amount=50.0
2025-06-10 09:57:56 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 4, Valor: R$ 50.00
2025-06-10 09:58:01 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 6212796124
2025-06-10 09:58:01 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 6212796124
2025-06-10 09:58:01 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-10 09:58:01 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-10 09:58:08 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 6212796124
2025-06-10 09:58:53 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-06-19 21:02:20 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:02:20 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-19 21:02:20 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-19 21:02:20 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-19 21:02:22 | ERROR    | src.config.database_config:test_connection:57 | ‚ùå Erro ao conectar com MySQL: Not an executable object: 'SELECT 1'
2025-06-19 21:02:22 | ERROR    | __main__:main:50 | ‚ùå Falha na conex√£o com o banco!
2025-06-19 21:05:24 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:05:24 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-19 21:05:24 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-19 21:05:24 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-19 21:05:26 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:05:26 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:05:26 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: maglev.proxy.rlwy.net/railway
2025-06-19 21:05:26 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-19 21:05:27 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-19 21:05:27 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-19 21:05:27 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-19 21:05:27 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-19 21:05:27 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-19 21:05:27 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-19 21:05:27 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-19 21:07:49 | INFO     | __main__:main:118 | üëã GEDIE Bot finalizado
2025-06-19 21:25:58 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:25:58 | INFO     | src.services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:25:58 | INFO     | src.services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:25:58 | INFO     | src.services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:25:58 | INFO     | src.services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:26:00 | INFO     | src.services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:26:00 | INFO     | src.services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:26:00 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:26:00 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:26:00 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:26:00 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:26:46 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:26:46 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:26:46 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:26:46 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:26:47 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:26:47 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:26:47 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:26:47 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 26, 47, 407545), 'updated_at': datetime.datetime(2025, 6, 20, 0, 26, 47, 407545)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:26:47 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:26:47 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:26:47 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:26:47 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:26:47 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:26:47 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:26:47 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:26:47 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:26:48 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:26:48 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:26:48 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:26:50 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["Arroz 5kg", "Feij√£o 1kg"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:26:50 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:26:50 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:26:50 | INFO     | src.services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:26:50 | INFO     | src.services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:26:50 | INFO     | src.services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:26:50 | INFO     | src.services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:26:52 | INFO     | src.services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:26:52 | INFO     | src.services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:26:52 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:26:52 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:26:52 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:26:52 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:30:21 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:30:21 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:30:21 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:30:21 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:30:22 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:30:22 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:30:22 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:30:22 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 30, 22, 687097), 'updated_at': datetime.datetime(2025, 6, 20, 0, 30, 22, 687097)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:30:22 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:30:22 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:30:22 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:30:22 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:30:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:30:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:30:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:30:22 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:30:24 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:30:24 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:30:24 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:30:25 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["Arroz 5kg", "Feij√£o 1kg"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:30:25 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:30:25 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:30:25 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:30:25 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:30:25 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:30:51 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:30:51 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:30:51 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:30:51 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:30:52 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:30:52 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:30:52 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:30:53 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 30, 52, 937730), 'updated_at': datetime.datetime(2025, 6, 20, 0, 30, 52, 937730)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:30:53 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:30:53 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:30:53 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:30:53 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:30:53 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:30:53 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:30:53 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:30:53 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:30:54 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:30:54 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:30:54 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:30:55 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:30:55 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:30:55 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:30:55 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:30:55 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:30:55 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:31:10 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:31:10 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:31:10 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:31:10 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:31:11 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:31:11 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:31:11 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:31:11 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 31, 11, 469087), 'updated_at': datetime.datetime(2025, 6, 20, 0, 31, 11, 469087)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:31:11 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:31:11 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:31:11 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:31:11 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:31:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:31:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:31:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:31:11 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:31:13 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:31:13 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:31:13 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:31:14 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:31:14 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:31:14 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:31:14 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:31:14 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:31:14 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:31:29 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:31:29 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:31:29 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:31:29 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:31:30 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:31:30 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:31:30 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:31:30 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 31, 30, 566560), 'updated_at': datetime.datetime(2025, 6, 20, 0, 31, 30, 566560)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:31:30 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:31:30 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:31:30 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:31:30 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:31:30 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:31:30 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:31:30 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:31:30 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:31:32 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:31:32 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:31:32 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:31:33 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:31:33 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:31:34 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:31:34 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:31:34 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:31:34 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:32:23 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:32:23 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:32:23 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:32:23 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:32:24 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:32:24 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:32:24 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:32:24 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 32, 24, 488674), 'updated_at': datetime.datetime(2025, 6, 20, 0, 32, 24, 488674)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:32:24 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:32:24 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:32:25 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:32:25 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:32:25 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:32:27 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:32:27 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:32:56 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:32:56 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:32:57 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:32:57 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:32:58 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:32:58 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:32:58 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:32:58 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 32, 58, 351180), 'updated_at': datetime.datetime(2025, 6, 20, 0, 32, 58, 351180)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:32:58 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:32:58 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:32:58 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:32:58 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:32:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:32:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:32:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:32:58 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:32:59 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:32:59 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:32:59 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:33:01 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:33:01 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:33:01 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:33:01 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:33:01 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:33:01 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:34:25 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:34:25 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:34:25 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:34:25 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:34:26 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:34:26 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:34:26 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:34:27 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 34, 26, 735422), 'updated_at': datetime.datetime(2025, 6, 20, 0, 34, 26, 735422)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:34:27 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:34:27 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:34:27 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:34:27 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:34:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:34:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:34:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:34:27 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:34:28 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:34:28 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:34:28 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:34:29 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:34:29 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:34:29 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:34:29 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:34:29 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:34:29 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:35:35 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:35:35 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:35:35 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:35:35 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:35:36 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:35:36 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:35:36 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:35:36 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 35, 36, 558851), 'updated_at': datetime.datetime(2025, 6, 20, 0, 35, 36, 558851)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:35:36 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:35:36 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:35:36 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:35:36 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:35:36 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:35:36 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:35:36 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:35:36 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:35:38 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:35:38 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:35:38 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:35:40 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:35:40 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:35:40 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:35:40 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:35:40 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:35:40 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 21:36:09 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:36:09 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-19 21:36:09 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-19 21:36:09 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-19 21:36:16 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 21:36:16 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-19 21:36:16 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 21:36:17 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-19 21:36:17 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 21:36:17 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-19 21:36:17 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-19 21:36:18 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 20, 0, 36, 17, 978676), 'updated_at': datetime.datetime(2025, 6, 20, 0, 36, 17, 978676)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-19 21:36:18 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-19 21:36:18 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-19 21:36:18 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-19 21:36:18 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:36:18 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-19 21:36:18 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 21:36:18 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-19 21:36:18 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-19 21:36:19 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-19 21:36:19 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-19 21:36:19 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-19 21:36:21 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-19 21:36:21 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-19 21:36:21 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:36:21 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-19 21:36:21 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-19 21:36:21 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 22:07:57 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-19 22:07:57 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-19 22:07:57 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-19 22:07:57 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-19 22:07:59 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-19 22:08:00 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-19 22:08:00 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: maglev.proxy.rlwy.net/railway
2025-06-19 22:08:00 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-19 22:08:00 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-19 22:08:00 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-19 22:08:00 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-19 22:08:00 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-19 22:08:00 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-19 22:08:00 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-19 22:08:00 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-19 22:08:30 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:08:31 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Alex Maxwel (948885701)
2025-06-19 22:08:37 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 19
2025-06-19 22:08:37 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-19 22:12:23 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:12:23 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:12:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:12:25 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:12:25 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:12:25 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:12:25 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:12:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:12:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:12:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:12:27 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:12:27 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:12:27 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:12:27 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:12:27 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:12:27 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:12:27 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:12:28 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:12:28 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:12:28 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:12:28 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:12:28 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:12:28 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:12:39 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:12:39 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:12:41 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:12:41 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:12:42 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:generate_code do usu√°rio 948885701
2025-06-19 22:12:42 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: generate_code - User: 948885701
2025-06-19 22:12:43 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 19
2025-06-19 22:12:44 | INFO     | controllers.settings_controller:_generate_access_code:90 | ‚úÖ C√≥digo gerado para usu√°rio 948885701: 684532
2025-06-19 22:12:54 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:12:54 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:13:52 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:13:52 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:13:52 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:13:52 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:13:52 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:13:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:13:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:13:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:13:55 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:66 do usu√°rio 948885701
2025-06-19 22:13:55 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:13:55 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:13:55 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:13:55 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:13:55 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 66 para usu√°rio 948885701
2025-06-19 22:13:55 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Transporte (üöó)
2025-06-19 22:13:56 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:13:56 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 66}
2025-06-19 22:13:56 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:13:56 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:13:56 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 66}
2025-06-19 22:13:56 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 66 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:14:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:14:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:14:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 66}
2025-06-19 22:14:05 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:14:05 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 66}
2025-06-19 22:14:05 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 66, 'amount': 25.0}
2025-06-19 22:14:06 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:14:06 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:14:06 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 66, 'amount': 25.0}
2025-06-19 22:14:47 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 66, 'amount': 25.0}
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 66, 'amount': 25.0}
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 66, 'amount': 25.0}
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 66, Amount: 25.0
2025-06-19 22:14:47 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=66, amount=25.0
2025-06-19 22:14:48 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 17, Valor: R$ 25.00
2025-06-19 22:15:12 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:15:12 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:15:12 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:15:12 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:15:12 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:15:12 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:15:12 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:15:12 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:15:20 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-19 22:16:37 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:16:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:16:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:16:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:16:37 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:16:38 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:16:38 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:16:38 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:17:03 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:17:03 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:17:03 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:17:03 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:17:03 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:17:03 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:17:03 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:17:04 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:17:04 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:17:04 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:17:04 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:17:04 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:17:04 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:17:36 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:18:17 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:18:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:18:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-19 22:18:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:18:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:18:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:18:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:18:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-19 22:18:41 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 18, Valor: R$ 25.00
2025-06-19 22:21:31 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:21:32 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:21:35 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:21:35 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:21:35 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:21:35 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:21:35 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:21:35 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:21:35 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:21:35 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:21:36 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:21:36 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:21:36 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:21:36 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:21:36 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:21:36 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:21:37 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:21:37 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:21:37 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:21:37 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:21:37 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:21:37 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:21:37 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:21:48 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:21:48 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:21:50 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:21:50 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:21:50 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:21:50 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:21:50 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:21:50 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:21:50 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:21:50 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:21:51 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:21:51 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:21:51 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:21:51 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:21:51 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:21:51 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:21:52 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:21:52 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:21:52 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:21:52 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:21:52 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:21:52 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:21:52 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:22:03 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:22:03 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:22:05 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:22:05 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:22:16 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:22:17 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:23:13 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:23:13 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:23:17 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:23:17 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:25:20 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:25:20 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:25:21 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:25:21 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:25:21 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:25:21 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:25:21 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:25:22 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:25:22 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:25:22 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:25:23 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:25:23 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:25:23 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:25:23 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:25:23 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:25:23 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:25:24 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:25:24 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:25:24 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:25:24 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:25:24 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:25:24 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:25:24 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:25:35 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:25:35 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:25:37 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:25:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:25:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:25:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:25:37 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:25:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:25:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:25:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:25:39 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:25:39 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:25:39 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:25:40 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:25:50 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:25:50 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:25:52 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:25:52 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:25:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-19 22:25:54 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-19 22:26:05 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:26:05 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:33:06 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:33:07 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:33:09 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:33:09 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:33:09 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:33:09 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:33:09 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:33:10 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:33:10 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:33:10 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:33:12 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:33:12 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:33:12 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:33:13 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:33:16 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:33:16 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:33:16 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:33:16 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:33:16 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:33:16 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:33:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:33:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:33:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:33:23 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:33:23 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:33:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:33:25 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:33:25 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:33:25 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:33:25 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:33:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:33:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:33:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:33:27 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:33:27 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:33:27 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:33:27 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:33:27 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:33:27 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:33:27 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:33:28 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:33:28 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:33:28 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:33:28 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:33:28 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:33:28 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:33:38 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:33:39 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:33:40 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:33:40 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:33:42 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-19 22:33:42 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-19 22:33:54 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:33:54 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:37:55 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:37:55 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:37:58 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:regenerate_code do usu√°rio 948885701
2025-06-19 22:37:58 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: regenerate_code - User: 948885701
2025-06-19 22:37:59 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 19
2025-06-19 22:37:59 | INFO     | controllers.settings_controller:_regenerate_access_code:158 | ‚úÖ C√≥digo regenerado para usu√°rio 948885701: 017482
2025-06-19 22:38:56 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:38:57 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:38:59 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:38:59 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:38:59 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:38:59 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:38:59 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:39:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:39:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:39:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:39:01 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:39:01 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:39:01 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:39:01 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:39:01 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:39:01 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:39:01 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:39:02 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:39:02 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:39:02 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:39:02 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:39:02 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:39:02 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:39:12 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:39:13 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:39:49 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:39:49 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:39:51 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:39:51 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:39:51 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:39:51 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:39:51 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:39:51 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:39:51 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:39:51 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:39:53 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:39:53 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:39:53 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:39:54 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:40:04 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:40:04 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:41:52 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:41:52 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:41:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:41:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:41:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:41:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:41:54 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:41:55 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:41:55 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:41:55 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:41:56 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:41:56 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:41:56 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:41:57 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:42:07 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:42:07 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:42:09 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:42:09 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:42:09 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:42:09 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:42:09 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:42:10 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:42:10 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:42:10 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:42:11 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:42:11 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:42:11 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:42:11 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:42:11 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:42:11 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:42:11 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:42:12 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:42:12 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:42:12 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:42:12 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:42:12 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:42:12 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:42:22 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:42:23 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:42:24 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:42:24 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:42:26 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-19 22:42:26 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-19 22:42:38 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:42:38 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:48:39 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:48:40 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:48:42 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:48:42 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:48:42 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:48:42 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:48:42 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:48:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:48:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:48:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:48:44 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:48:44 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:48:44 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:48:45 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:48:45 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:48:45 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:48:45 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:48:45 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:48:45 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:48:45 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:46 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:48:46 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:48:46 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:48 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-19 22:48:48 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-19 22:48:49 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 19, Valor: R$ 25.00
2025-06-19 22:48:51 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:48:51 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:48:53 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:48:53 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:48:53 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:48:53 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:48:53 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:48:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:48:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:48:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:48:55 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:48:55 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:48:55 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:48:56 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:48:56 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:48:56 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:48:56 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:48:56 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:48:56 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:48:56 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:57 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:48:57 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:48:57 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:58 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:48:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:49:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-19 22:49:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:49:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:49:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:49:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:49:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-19 22:49:02 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 20, Valor: R$ 25.00
2025-06-19 22:49:04 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:49:04 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:49:06 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:49:06 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:49:11 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-19 22:49:11 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-19 22:49:13 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:49:13 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:50:01 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:50:01 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:50:02 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:50:02 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:50:02 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:50:02 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:50:02 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:50:03 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:50:03 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:50:03 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:50:04 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:50:04 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:50:04 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:50:04 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:50:04 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:50:04 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:50:05 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:50:05 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:50:05 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:50:05 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:50:05 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:50:05 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:50:05 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:50:31 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:50:31 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:50:31 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:50:31 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:50:36 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-19 22:50:36 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:50:36 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:50:36 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:52:54 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:52:54 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:53:00 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:53:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:53:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:53:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:53:41 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-19 22:53:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:53:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:53:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:54:02 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-19 22:54:03 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:54:03 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:54:03 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:54:03 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:54:05 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:week do usu√°rio 948885701
2025-06-19 22:54:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:54:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:54:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:54:07 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-19 22:54:09 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:54:09 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:54:09 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:54:09 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:54:11 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-19 22:54:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:54:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:54:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:55:21 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:55:21 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:55:23 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:55:23 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:55:23 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:55:23 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:55:23 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:55:24 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:55:24 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:55:24 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:55:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:55:25 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:55:25 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:55:25 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:55:25 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:55:25 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:55:25 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:55:26 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:55:26 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:55:26 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:55:26 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:55:26 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:55:26 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:55:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:55:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:55:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:55:26 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:55:26 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:55:26 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:55:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:55:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:29 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-19 22:55:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-19 22:55:30 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 21, Valor: R$ 25.00
2025-06-19 22:55:32 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:55:33 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:55:34 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:55:34 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:55:34 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:55:34 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:55:34 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:55:35 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:55:35 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:55:35 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:55:36 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:55:36 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:55:36 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:55:36 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:55:36 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:55:36 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:55:37 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:55:37 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:55:37 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:55:37 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:55:37 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:55:37 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:55:37 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:55:38 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:40 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:55:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:42 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-19 22:55:42 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:55:42 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:55:42 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:55:42 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:55:42 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-19 22:55:44 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 22, Valor: R$ 25.00
2025-06-19 22:55:46 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:55:46 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:55:48 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:55:48 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:55:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-19 22:55:54 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-19 22:55:56 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:55:56 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:55:58 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:55:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:55:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:55:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:56:00 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-19 22:56:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:56:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:56:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:56:03 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:56:03 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:56:05 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:56:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:56:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:56:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:56:07 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-19 22:56:07 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:56:07 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:56:07 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:56:10 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:56:10 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:57:22 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:57:22 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:57:24 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:57:24 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:57:24 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:57:24 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:57:24 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:57:24 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:57:24 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:57:24 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:57:26 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:57:26 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:57:26 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:57:27 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:57:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:57:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:57:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:57:27 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:57:27 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:57:27 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:28 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:57:28 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:57:28 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:30 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-19 22:57:30 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-19 22:57:31 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 23, Valor: R$ 25.00
2025-06-19 22:57:33 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:57:34 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:57:35 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-19 22:57:35 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-19 22:57:35 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:57:35 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:57:35 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-19 22:57:36 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-19 22:57:36 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:57:36 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:57:37 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-19 22:57:37 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-19 22:57:37 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-19 22:57:37 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-19 22:57:37 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-19 22:57:37 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-19 22:57:37 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-19 22:57:38 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-19 22:57:38 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-19 22:57:38 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-19 22:57:38 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:57:38 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-19 22:57:38 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:57:39 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:41 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:57:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-19 22:57:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:57:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-19 22:57:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-19 22:57:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-19 22:57:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-19 22:57:44 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 24, Valor: R$ 25.00
2025-06-19 22:57:47 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:57:47 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:57:49 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 22:57:49 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 22:57:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-19 22:57:54 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-19 22:57:56 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:57:57 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:57:58 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:57:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:57:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:57:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:58:00 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-19 22:58:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:58:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:58:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:58:03 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:58:03 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 22:58:05 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-19 22:58:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-19 22:58:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:58:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:58:06 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-19 22:58:06 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-19 22:58:06 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-19 22:58:06 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-19 22:58:09 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-19 22:58:09 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-19 23:00:13 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-19 23:00:13 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-19 23:00:23 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-22 02:34:33 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-22 02:34:33 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-22 02:34:33 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-22 02:34:33 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-22 02:34:34 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-22 02:34:34 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-22 02:34:34 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-22 02:34:34 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 22, 5, 34, 34, 390216), 'updated_at': datetime.datetime(2025, 6, 22, 5, 34, 34, 390216)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-22 02:34:34 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-22 02:34:34 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-22 02:34:34 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-22 02:34:34 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-22 02:34:34 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-22 02:34:34 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-22 02:34:34 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-22 02:34:34 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-22 02:34:35 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-22 02:34:36 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-22 02:34:36 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-22 02:34:37 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-22 02:34:37 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-22 02:34:38 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-22 02:34:38 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-22 02:34:38 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-22 02:34:38 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-23 20:52:56 | INFO     | src.config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-23 20:52:56 | INFO     | __main__:main:34 | üêõ MODO DEBUG ATIVADO
2025-06-23 20:52:56 | INFO     | __main__:main:39 | üöÄ Iniciando GEDIE Bot...
2025-06-23 20:52:56 | INFO     | __main__:main:48 | üóÑÔ∏è Testando conex√£o com banco de dados...
2025-06-23 20:52:57 | INFO     | src.config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-23 20:52:58 | INFO     | src.config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-23 20:52:58 | INFO     | __main__:main:60 | üóÑÔ∏è Conectado ao MySQL: maglev.proxy.rlwy.net/railway
2025-06-23 20:52:58 | INFO     | __main__:main:61 | ü§ñ Token do Bot: 7643045903...9_4uT3UFF0
2025-06-23 20:52:58 | INFO     | __main__:main:72 | üìã Registrando 5 handlers...
2025-06-23 20:52:58 | INFO     | __main__:main:81 | ‚úÖ Todos os handlers registrados com sucesso!
2025-06-23 20:52:58 | INFO     | __main__:main:84 | ü§ñ GEDIE Bot est√° rodando...
2025-06-23 20:52:58 | INFO     | __main__:main:85 | üí° Pressione Ctrl+C para parar
2025-06-23 20:52:58 | INFO     | __main__:main:88 | üîç Debug ativado - logs detalhados dispon√≠veis
2025-06-23 20:52:58 | INFO     | __main__:main:89 | üõ†Ô∏è Para debug de usu√°rio espec√≠fico, use:
2025-06-23 20:52:58 | INFO     | __main__:main:90 |      python debug.py monitor <telegram_id>
2025-06-23 20:54:19 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 20:54:21 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 20:54:23 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 20:54:23 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 20:54:23 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 20:54:23 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:54:23 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 20:54:24 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 20:54:24 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 20:54:24 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:54:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 20:54:25 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 20:54:25 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 20:54:25 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 20:54:25 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 20:54:25 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 20:54:25 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 20:54:26 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 20:54:26 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 20:54:26 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 20:54:26 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 20:54:26 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 20:54:26 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 20:54:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:29 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-23 20:54:29 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-23 20:54:31 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 25, Valor: R$ 25.00
2025-06-23 20:54:32 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 20:54:33 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 20:54:34 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 20:54:34 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 20:54:34 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 20:54:34 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:54:34 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 20:54:35 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 20:54:35 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 20:54:35 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:54:36 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 20:54:36 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 20:54:36 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 20:54:36 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 20:54:36 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 20:54:36 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 20:54:36 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 20:54:37 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 20:54:37 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 20:54:37 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 20:54:37 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 20:54:37 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 20:54:37 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 20:54:38 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:40 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 20:54:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-23 20:54:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 20:54:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 20:54:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-23 20:54:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 20:54:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-23 20:54:43 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 26, Valor: R$ 25.00
2025-06-23 20:54:45 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 20:54:46 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 20:54:50 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 20:54:50 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 20:54:52 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-23 20:54:52 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-23 20:54:55 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 20:54:55 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 20:54:57 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 20:54:57 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 20:54:57 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 20:54:57 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:54:59 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-23 20:54:59 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 20:54:59 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 20:54:59 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:55:02 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 20:55:02 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 20:55:04 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 20:55:04 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 20:55:04 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 20:55:04 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:55:06 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-23 20:55:06 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 20:55:06 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 20:55:06 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 20:55:09 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 20:55:09 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 20:56:05 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 20:56:05 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 20:56:08 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 948885701
2025-06-23 20:56:08 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 948885701
2025-06-23 20:56:23 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-23 20:56:23 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-23 20:57:06 | INFO     | config.logging_config:setup_logging:40 | üìù Sistema de logging configurado
2025-06-23 20:57:06 | INFO     | tests.test_database:test_database:23 | üóÑÔ∏è Testando configura√ß√£o do banco de dados...
2025-06-23 20:57:06 | INFO     | config.database_config:test_connection:54 | ‚úÖ Conex√£o com MySQL estabelecida com sucesso!
2025-06-23 20:57:06 | INFO     | tests.test_database:test_database:31 | üìã Criando tabelas...
2025-06-23 20:57:07 | INFO     | config.database_config:create_tables:64 | ‚úÖ Tabelas criadas com sucesso!
2025-06-23 20:57:07 | INFO     | tests.test_database:test_database:37 | üß™ Testando opera√ß√µes CRUD...
2025-06-23 20:57:07 | INFO     | tests.test_database:test_database:43 | üë§ Criando usu√°rio de teste...
2025-06-23 20:57:07 | ERROR    | models.user_model:create_user:49 | Erro ao criar usu√°rio 123456789: (pymysql.err.IntegrityError) (1062, "Duplicate entry '123456789' for key 'users.telegram_id'")
[SQL: INSERT INTO users (telegram_id, nome, timezone, ativo, codigo_acesso, created_at, updated_at) VALUES (%(telegram_id)s, %(nome)s, %(timezone)s, %(ativo)s, %(codigo_acesso)s, %(created_at)s, %(updated_at)s)]
[parameters: {'telegram_id': 123456789, 'nome': 'Usu√°rio Teste', 'timezone': 'America/Sao_Paulo', 'ativo': 1, 'codigo_acesso': None, 'created_at': datetime.datetime(2025, 6, 23, 23, 57, 7, 611050), 'updated_at': datetime.datetime(2025, 6, 23, 23, 57, 7, 611050)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-06-23 20:57:07 | ERROR    | tests.test_database:test_database:46 | ‚ùå Falha ao criar usu√°rio
2025-06-23 20:57:08 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor 'R$ 123,45' para usu√°rio 1001
2025-06-23 20:57:08 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 1}
2025-06-23 20:57:08 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 1, 'amount': 123.45}
2025-06-23 20:57:08 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 1001
2025-06-23 20:57:08 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 20:57:08 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 1, 'amount': 123.45}
2025-06-23 20:57:08 | INFO     | services.gemini_service:test_connection:189 | üß™ Testando conex√£o com Gemini API...
2025-06-23 20:57:09 | INFO     | services.gemini_service:test_connection:196 | ‚úÖ Conex√£o com Gemini API funcionando
2025-06-23 20:57:09 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (7289 bytes)
2025-06-23 20:57:09 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 20:57:11 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 34.40,
  "estabelecimento": "SUPERMERCADO TESTE LTDA",
  "categoria_sugerida": "alimentacao",
  "itens_principais": ["ARROZ 5KG", "FEIJ√ÉO 1KG"],
  "confianca": 1.0,
  "obser...
2025-06-23 20:57:11 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=34.4, estabelecimento=SUPERMERCADO TESTE LTDA, confian√ßa=1.0
2025-06-23 20:57:11 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-23 20:57:11 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tester (999)
2025-06-23 20:57:11 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 1
2025-06-23 20:57:11 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-23 21:09:11 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-23 21:13:49 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:13:50 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:13:52 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:13:52 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:13:52 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:13:52 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:13:52 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:13:53 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:13:53 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:13:53 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:13:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:13:54 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:13:54 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:13:54 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:13:54 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:13:54 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:13:55 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:13:55 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:13:55 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:13:55 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:13:55 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:13:55 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:13:55 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:13:56 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:13:56 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:13:56 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:13:56 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:13:56 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:13:56 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:13:57 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:13:57 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:13:57 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:13:59 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-23 21:13:59 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-23 21:14:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 28, Valor: R$ 25.00
2025-06-23 21:14:03 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:14:03 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:14:04 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:14:04 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:14:04 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:14:04 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:14:04 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:14:05 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:14:05 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:14:05 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:14:06 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:14:06 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:14:06 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:14:06 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:14:06 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:14:06 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:14:07 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:14:07 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:14:07 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:14:07 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:14:07 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:14:07 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:14:07 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:14:08 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:14:08 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:14:08 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:14:08 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:14:08 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:14:08 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:14:09 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:14:09 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:14:09 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:14:10 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:14:10 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:14:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-23 21:14:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:14:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:14:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:14:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:14:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-23 21:14:13 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 29, Valor: R$ 25.00
2025-06-23 21:14:15 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:14:15 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:14:17 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 21:14:17 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 21:14:22 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-23 21:14:22 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-23 21:14:24 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:14:24 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:14:26 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:14:27 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:14:28 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:14:29 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:14:29 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:14:29 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:14:29 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:14:32 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-23 21:14:32 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:14:32 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:14:32 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:14:35 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:14:35 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:14:37 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:14:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:14:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:14:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:14:38 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-23 21:14:38 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:14:38 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:14:38 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:14:41 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:14:41 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:18:24 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:18:25 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:18:26 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:18:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:18:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:18:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:18:26 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:18:27 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:18:27 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:18:27 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:18:28 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:18:28 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:18:28 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:18:28 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:18:28 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:18:28 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:18:28 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:18:29 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:18:29 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:18:29 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:18:29 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:18:29 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:18:29 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:18:30 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:32 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-23 21:18:32 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-23 21:18:34 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 30, Valor: R$ 25.00
2025-06-23 21:18:35 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:18:36 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:18:37 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:18:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:18:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:18:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:18:37 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:18:38 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:18:38 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:18:38 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:18:39 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:18:39 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:18:39 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:18:39 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:18:39 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:18:39 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:18:39 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:18:40 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:18:40 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:18:40 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:18:40 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:18:40 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:18:40 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:18:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:43 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:18:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:44 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-23 21:18:44 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:18:44 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:18:44 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:18:44 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:18:44 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-23 21:18:46 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 31, Valor: R$ 25.00
2025-06-23 21:18:48 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:18:48 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:18:50 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 21:18:50 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 21:18:58 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-23 21:18:58 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-23 21:19:00 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:19:01 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:19:02 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:19:03 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:19:04 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 4993 bytes
2025-06-23 21:19:04 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (4993 bytes)
2025-06-23 21:19:04 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:19:06 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.5,
  "observacoes": "Somente o valor total, data e ID est√£o di...
2025-06-23 21:19:06 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.5
2025-06-23 21:19:14 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:19:15 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:19:16 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:19:16 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:19:16 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:19:16 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:19:19 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-23 21:19:19 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:19:19 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:19:19 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:19:21 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:19:22 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:19:23 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:19:23 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:19:23 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:19:23 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:19:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-23 21:19:25 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:19:25 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:19:25 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:19:28 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:19:28 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:21:07 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:confirm do usu√°rio 948885701
2025-06-23 21:21:47 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:21:49 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-23 21:21:51 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:22:01 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:22:03 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 5458 bytes
2025-06-23 21:22:03 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (5458 bytes)
2025-06-23 21:22:03 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:22:04 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.6,
  "observacoes": "Apenas o valor total, data e ID est√£o pre...
2025-06-23 21:22:04 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.6
2025-06-23 21:22:10 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:confirm do usu√°rio 948885701
2025-06-23 21:22:12 | INFO     | controllers.photo_controller:_confirm_photo_expense:364 | ‚úÖ Gasto por foto salvo: ID 32
2025-06-23 21:23:16 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:23:19 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:23:19 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:23:19 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:23:19 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:23:19 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:23:19 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:23:19 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:23:19 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:23:21 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-23 21:23:23 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:23:29 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:23:30 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 5458 bytes
2025-06-23 21:23:30 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (5458 bytes)
2025-06-23 21:23:30 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:23:31 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.6,
  "observacoes": "Somente o valor total, data e ID est√£o di...
2025-06-23 21:23:31 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.6
2025-06-23 21:23:34 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:cancel do usu√°rio 948885701
2025-06-23 21:24:05 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:24:09 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:24:10 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 5458 bytes
2025-06-23 21:24:10 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (5458 bytes)
2025-06-23 21:24:10 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:24:12 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.5,
  "observacoes": "Apenas o valor total, data e ID est√£o pre...
2025-06-23 21:24:12 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.5
2025-06-23 21:24:16 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:confirm do usu√°rio 948885701
2025-06-23 21:24:18 | INFO     | controllers.photo_controller:_confirm_photo_expense:364 | ‚úÖ Gasto por foto salvo: ID 33
2025-06-23 21:26:23 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:26:23 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:26:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:26:25 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:26:25 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:26:25 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:26:25 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:26:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:26:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:26:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:26:27 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:26:27 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:26:27 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:26:27 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:26:27 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:26:27 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:26:27 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:26:28 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:26:28 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:26:28 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:26:28 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:26:28 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:26:28 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:26:28 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:26:28 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:26:28 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:26:28 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:26:28 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:26:28 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:29 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:26:29 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:26:29 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:31 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-23 21:26:31 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-23 21:26:32 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 34, Valor: R$ 25.00
2025-06-23 21:26:35 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:26:35 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:26:37 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:26:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:26:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:26:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:26:37 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:26:37 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:26:37 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:26:37 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:26:39 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:26:39 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:26:39 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:26:40 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:26:40 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:26:40 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:26:40 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:26:40 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:26:40 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:26:40 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:41 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:26:41 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:26:41 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:43 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:26:43 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:44 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-23 21:26:44 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:26:44 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:26:44 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:26:44 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:26:44 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-23 21:26:46 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 35, Valor: R$ 25.00
2025-06-23 21:26:48 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:26:49 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:26:50 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 21:26:50 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 21:26:55 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-23 21:26:55 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-23 21:26:57 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:26:58 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:26:59 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:27:00 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:27:01 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 4994 bytes
2025-06-23 21:27:01 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (4994 bytes)
2025-06-23 21:27:01 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:27:02 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.3,
  "observacoes": "Apenas o total, data e ID est√£o presentes...
2025-06-23 21:27:02 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.3
2025-06-23 21:27:04 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:confirm do usu√°rio 948885701
2025-06-23 21:27:06 | INFO     | controllers.photo_controller:_confirm_photo_expense:364 | ‚úÖ Gasto por foto salvo: ID 36
2025-06-23 21:27:08 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:27:08 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:27:09 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:27:10 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:27:11 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 5006 bytes
2025-06-23 21:27:11 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (5006 bytes)
2025-06-23 21:27:11 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:27:12 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.6,
  "observacoes": "Apenas o total, data e ID est√£o presentes...
2025-06-23 21:27:12 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.6
2025-06-23 21:27:14 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:cancel do usu√°rio 948885701
2025-06-23 21:27:15 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:27:16 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:27:17 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:27:17 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:27:17 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:27:17 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:27:20 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-23 21:27:20 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:27:20 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:27:20 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:27:24 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:27:24 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:27:26 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:27:26 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:27:26 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:27:26 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:27:28 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-23 21:27:28 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:27:28 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:27:28 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:27:32 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:27:33 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:28:02 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 21:28:02 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 21:28:07 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-23 21:29:50 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 5045453483 (Tostes) iniciou o bot
2025-06-23 21:29:51 | INFO     | controllers.user_controller:get_or_create_user:28 | Criando novo usu√°rio: Tostes (5045453483)
2025-06-23 21:29:57 | INFO     | models.category_model:create_default_categories:60 | ‚úÖ 8 categorias padr√£o criadas para usu√°rio 22
2025-06-23 21:29:57 | INFO     | controllers.user_controller:get_or_create_user:34 | Usu√°rio criado com 8 categorias padr√£o
2025-06-23 21:30:01 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 5045453483
2025-06-23 21:30:01 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 5045453483
2025-06-23 21:30:03 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 948885701
2025-06-23 21:30:03 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 948885701
2025-06-23 21:30:25 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 5045453483
2025-06-23 21:30:25 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 5045453483
2025-06-23 21:30:29 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:generate_code do usu√°rio 5045453483
2025-06-23 21:30:29 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: generate_code - User: 5045453483
2025-06-23 21:30:30 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 22
2025-06-23 21:30:31 | INFO     | controllers.settings_controller:_generate_access_code:90 | ‚úÖ C√≥digo gerado para usu√°rio 5045453483: 150846
2025-06-23 21:32:24 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback main:menu do usu√°rio 948885701
2025-06-23 21:32:30 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 21:32:30 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 21:33:32 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:regenerate_code do usu√°rio 948885701
2025-06-23 21:33:32 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: regenerate_code - User: 948885701
2025-06-23 21:33:33 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 19
2025-06-23 21:33:33 | INFO     | controllers.settings_controller:_regenerate_access_code:158 | ‚úÖ C√≥digo regenerado para usu√°rio 948885701: 070583
2025-06-23 21:33:52 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:33:53 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:33:54 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:33:54 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:33:54 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:33:54 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:33:54 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:33:55 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:33:55 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:33:55 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:33:56 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:33:56 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:33:56 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:33:56 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:33:56 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:33:56 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:33:57 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:33:57 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:33:57 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:33:57 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:33:57 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:33:57 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:33:57 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:33:58 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:00 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:confirm do usu√°rio 948885701
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK confirm - User: 948885701
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE CONFIRMAR CALLBACK - User: 948885701
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:311 | Salvando gasto via callback - User: 948885701
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:312 |     Dados completos: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:313 |     Category: 65, Amount: 25.0
2025-06-23 21:34:00 | INFO     | controllers.expense_controller:_save_expense_from_callback:337 | Criando gasto: user_id=19, category_id=65, amount=25.0
2025-06-23 21:34:02 | INFO     | controllers.expense_controller:_save_expense_from_callback:374 | ‚úÖ Gasto salvo com sucesso: ID 37, Valor: R$ 25.00
2025-06-23 21:34:04 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:34:04 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:34:06 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:register do usu√°rio 948885701
2025-06-23 21:34:06 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK register - User: 948885701
2025-06-23 21:34:06 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:34:06 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:34:06 | INFO     | controllers.expense_controller:_start_expense_registration:66 | Iniciando registro de gasto para usu√°rio 948885701
2025-06-23 21:34:06 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS DEFINIR SELECTING_CATEGORY - User: 948885701
2025-06-23 21:34:06 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:34:06 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:34:07 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback category:expense_select:65 do usu√°rio 948885701
2025-06-23 21:34:07 | INFO     | controllers.category_controller:handle_callback:31 | Category callback: expense_select - User: 948885701
2025-06-23 21:34:07 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG CALLBACK expense_select - User: 948885701
2025-06-23 21:34:07 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.SELECTING_CATEGORY
2025-06-23 21:34:07 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {}
2025-06-23 21:34:07 | INFO     | controllers.category_controller:_select_category_for_expense:49 | Selecionando categoria 65 para usu√°rio 948885701
2025-06-23 21:34:08 | INFO     | controllers.category_controller:_select_category_for_expense:61 | Categoria encontrada: Alimenta√ß√£o (üçî)
2025-06-23 21:34:08 | INFO     | controllers.category_controller:_select_category_for_expense:75 | Dados existentes antes de salvar categoria: {}
2025-06-23 21:34:08 | INFO     | controllers.category_controller:_select_category_for_expense:86 | Dados ap√≥s salvar categoria: {'category_id': 65}
2025-06-23 21:34:08 | INFO     | controllers.category_controller:_debug_user_state:19 | üîç CATEGORY DEBUG AP√ìS SELECIONAR CATEGORIA - User: 948885701
2025-06-23 21:34:08 | INFO     | controllers.category_controller:_debug_user_state:20 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:34:08 | INFO     | controllers.category_controller:_debug_user_state:21 |     Dados: {'category_id': 65}
2025-06-23 21:34:08 | INFO     | controllers.category_controller:_select_category_for_expense:101 | ‚úÖ Categoria 65 selecionada com sucesso para usu√°rio 948885701
2025-06-23 21:34:09 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: '25' - User: 948885701
2025-06-23 21:34:09 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_AMOUNT
2025-06-23 21:34:09 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65}
2025-06-23 21:34:09 | INFO     | controllers.expense_controller:_process_amount_input:200 | Processando valor '25' para usu√°rio 948885701
2025-06-23 21:34:09 | INFO     | controllers.expense_controller:_process_amount_input:215 | Dados atuais antes de salvar valor: {'category_id': 65}
2025-06-23 21:34:09 | INFO     | controllers.expense_controller:_process_amount_input:227 | Dados ap√≥s salvar valor: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:10 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS CONFIRMAR VALOR - User: 948885701
2025-06-23 21:34:10 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:34:10 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:11 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:add_description do usu√°rio 948885701
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK add_description - User: 948885701
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG ANTES DE SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.CONFIRMING_EXPENSE
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS SOLICITAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:34:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:13 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG TEXT INPUT: 'almo√ßo' - User: 948885701
2025-06-23 21:34:13 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:34:13 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0}
2025-06-23 21:34:13 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG AP√ìS ADICIONAR DESCRI√á√ÉO - User: 948885701
2025-06-23 21:34:13 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.WAITING_DESCRIPTION
2025-06-23 21:34:13 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {'category_id': 65, 'amount': 25.0, 'description': 'almo√ßo'}
2025-06-23 21:34:15 | INFO     | controllers.expense_controller:_save_expense_from_message:440 | ‚úÖ Gasto salvo com sucesso: ID 38, Valor: R$ 25.00
2025-06-23 21:34:17 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:34:17 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:34:19 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:show_id do usu√°rio 948885701
2025-06-23 21:34:19 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: show_id - User: 948885701
2025-06-23 21:34:25 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:34:26 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:34:27 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 21:34:27 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 21:34:29 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:view_code do usu√°rio 948885701
2025-06-23 21:34:29 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: view_code - User: 948885701
2025-06-23 21:34:31 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:34:32 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:34:33 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:menu do usu√°rio 948885701
2025-06-23 21:34:33 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: menu - User: 948885701
2025-06-23 21:34:35 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback settings:regenerate_code do usu√°rio 948885701
2025-06-23 21:34:35 | INFO     | controllers.settings_controller:handle_callback:24 | Settings callback: regenerate_code - User: 948885701
2025-06-23 21:34:36 | INFO     | models.user_model:update_access_code:61 | C√≥digo de acesso atualizado para usu√°rio 19
2025-06-23 21:34:37 | INFO     | controllers.settings_controller:_regenerate_access_code:158 | ‚úÖ C√≥digo regenerado para usu√°rio 948885701: 209686
2025-06-23 21:34:39 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:34:39 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:34:41 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:34:41 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:34:42 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 5002 bytes
2025-06-23 21:34:42 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (5002 bytes)
2025-06-23 21:34:42 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:34:45 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.5,
  "observacoes": "Apenas o total, data e ID do cupom fiscal...
2025-06-23 21:34:45 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.5
2025-06-23 21:34:46 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:confirm do usu√°rio 948885701
2025-06-23 21:34:48 | INFO     | controllers.photo_controller:_confirm_photo_expense:364 | ‚úÖ Gasto por foto salvo: ID 39
2025-06-23 21:34:50 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:34:50 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:34:52 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:guide do usu√°rio 948885701
2025-06-23 21:34:52 | INFO     | controllers.photo_controller:handle_photo:88 | üì∑ Foto recebida do usu√°rio 948885701
2025-06-23 21:34:53 | INFO     | controllers.photo_controller:handle_photo:112 | Foto baixada: 4996 bytes
2025-06-23 21:34:53 | INFO     | services.gemini_service:analyze_receipt:29 | Iniciando an√°lise de comprovante (4996 bytes)
2025-06-23 21:34:53 | INFO     | services.gemini_service:analyze_receipt:76 | Enviando para an√°lise do Gemini 1.5 Flash...
2025-06-23 21:34:55 | INFO     | services.gemini_service:analyze_receipt:81 | Resposta bruta do Gemini: ```json
{
  "valor_total": 25.00,
  "estabelecimento": null,
  "categoria_sugerida": "outros",
  "itens_principais": [],
  "confianca": 0.5,
  "observacoes": "Somente o valor total, data e ID est√£o pr...
2025-06-23 21:34:55 | INFO     | services.gemini_service:analyze_receipt:105 | ‚úÖ An√°lise conclu√≠da: valor=25.0, estabelecimento=None, confian√ßa=0.5
2025-06-23 21:34:57 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback photo:cancel do usu√°rio 948885701
2025-06-23 21:35:00 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:35:00 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:35:01 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:35:01 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:35:01 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:35:01 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:35:04 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:today do usu√°rio 948885701
2025-06-23 21:35:04 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:35:04 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:35:04 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:35:07 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:35:08 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
2025-06-23 21:35:09 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view_menu do usu√°rio 948885701
2025-06-23 21:35:09 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view_menu - User: 948885701
2025-06-23 21:35:09 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:35:09 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:35:11 | INFO     | src.controllers.bot_controller:callback_router:98 | Callback expense:view:month do usu√°rio 948885701
2025-06-23 21:35:11 | INFO     | controllers.expense_controller:_debug_user_state:31 | üîç DEBUG CALLBACK view - User: 948885701
2025-06-23 21:35:11 | INFO     | controllers.expense_controller:_debug_user_state:32 |     Estado: ConversationState.IDLE
2025-06-23 21:35:11 | INFO     | controllers.expense_controller:_debug_user_state:33 |     Dados: {}
2025-06-23 21:35:15 | INFO     | src.controllers.bot_controller:start_command:36 | Usu√°rio 948885701 (Alex Maxwel) iniciou o bot
2025-06-23 21:35:15 | INFO     | controllers.user_controller:get_or_create_user:23 | Usu√°rio encontrado: Alex Maxwel (ID: 19)
